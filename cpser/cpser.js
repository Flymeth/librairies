function CPSer(){let e=document.querySelector(".timer"),n=document.querySelector(".clicker"),l=document.querySelector(".starter"),a=document.querySelector(".restarter"),r=document.querySelectorAll(".clock"),i=document.querySelectorAll(".result"),t=document.querySelectorAll(".clicks"),u={defaultTimerValue:10,minTimerValue:3,maxTimerValue:20,timerSteps:1,resultArrounds:.1},c=0,o=0,s=!1,m=0,d=!1,T=!1;var p='meta[name="cpserOptions"]';function f(){return e&&e.value?(c=e.value,S(V())):(c=u.defaultTimerValue,S(c))}function S(t){r.forEach(e=>e.innerHTML=t)}function V(){return c>u.maxTimerValue&&(c=u.maxTimerValue),c<u.minTimerValue&&(c=u.minTimerValue),c}function v(){d&&(o++,g())}function L(){s||(s=!0,document.body.classList.add("cps_started"),a.innerHTML="RESTART",function(t){let e=setInterval(()=>{if(s){if((t-=u.timerSteps)<=0)return clearInterval(e),S(0),d=!1,document.body.classList.replace("cps_started","cps_ended"),m=+o/c,void k(m);{let e=0;u.timerSteps.toString().split(".")[1]&&(e=u.timerSteps.toString().split(".")[1].split("0").length),S(t.toFixed(e))}d=!0,T=!0}else clearInterval(e)},1e3*u.timerSteps)}(V()),l.classList.contains("clicker")&&g(1))}function y(){T&&(s=!1,T=!1,d=!1,E())}function E(){document.body.classList.remove("cps_ended"),k(o=0),n.innerHTML="CLICKER",a.innerHTML="RESTART",l.innerHTML="START",f()}function g(e){e&&(o=e),t.forEach(e=>e.innerHTML=o)}function k(t){let r=0;u.resultArrounds.toString().split(".")[1]&&(r=u.resultArrounds.toString().split(".")[1].split("0").length),i.forEach(e=>e.innerHTML=t.toFixed(r))}!function(){let t=document.querySelector(p);if(t)for(var r in t=document.querySelector(p).getAttribute("content").split(","),t){if(isNaN(r))return;var i=t[r].split("=")[0].replace(" ","");let e=t[r].split("=")[1].replace(" ","");parseFloat(e)&&(e=parseFloat(e)),u[i]&&(u[i]=e)}else console.log("Can't get the cps game's options. Default options taked !");u.minTimerValue>=u.maxTimerValue&&(u.minTimerValue=u.maxTimerValue-1),u.defaultTimerValue>u.maxTimerValue&&(u.defaultTimerValue=u.maxTimerValue),u.defaultTimerValue<u.minTimerValue&&(u.defaultTimerValue=u.minTimerValue),e&&(e.setAttribute("type","number"),e.setAttribute("min",u.minTimerValue),e.setAttribute("max",u.maxTimerValue),e.removeEventListener("change",f),e.addEventListener("change",f)),n.removeEventListener("click",v),l.removeEventListener("click",L),a.removeEventListener("click",y),n.addEventListener("click",v),l.addEventListener("click",L),a.addEventListener("click",y),c=u.defaultTimerValue,S(c),k(0),E(),console.log("This website use cpser to display your cps ! Check cpser.tk for more informations !")}()}CPSer();
